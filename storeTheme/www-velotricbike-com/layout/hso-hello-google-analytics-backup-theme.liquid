<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}" dir="{{ settings.text_direction }}">
<head>{% render 'pagefly-head' %}
  <script>
    var _paq = window._paq = window._paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics2.cl1ck-api.com/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '853']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
    (function (){
        "use strict";var getSelectorFromTarget=function(target){var className=target.className!==""?"."+target.className:"";var targetId=target.id!==""?"#"+target.id:"";return[target.nodeName,className,targetId].join(" ")};var detectRageClicks=function(subscribe,_a){var interval=_a.interval,limit=_a.limit;var count=1;var countClear=setInterval((function(){count=1}),interval);var listener=function(event){if(count===limit){subscribe(getSelectorFromTarget(event.target),(function(){clearInterval(countClear);document.removeEventListener("click",listener)}))}count++};document.addEventListener("click",listener)};

        detectRageClicks(function (target, unsubscribe) {
            window._paq.push(['trackEvent', 'UX research', 'Rage click', target]);
        }, {
            interval: 750, // Number of milliseconds to reset counter
            limit: 3, // Number of clicks to trigger function above
        });
    })();
    (function (){
        "use strict";var getSelectorFromTarget=function(target){var className=target.className!==""?"."+target.className:"";var targetId=target.id!==""?"#"+target.id:"";return[target.nodeName,className,targetId].join(" ")};var detectErrorClicks=function(subscribe){var error;window.onerror=function(msg){error=msg};var listener=function(event){var selector=getSelectorFromTarget(event.target);setTimeout((function(){if(error){subscribe(selector,error,(function(){document.removeEventListener("click",listener)}))}error=undefined}),0)};document.addEventListener("click",listener)};

        detectErrorClicks(function (target, error, unsubscribe) {
          console.log('Error detected:', error);
          window._paq.push(['trackEvent', 'UX research', 'Error click', target]);
        });
    })();
    (function (){
        "use strict";var getSelectorFromTarget=function(target){var className=target.className!==""?"."+target.className:"";var targetId=target.id!==""?"#"+target.id:"";return[target.nodeName,className,targetId].join(" ")};var detectDeadClicks=function(subscribe,_a){var interval=_a.interval,limit=_a.limit;var clickCounts={};var countClear=setInterval((function(){clickCounts={}}),interval);var listener=function(event){var selector=getSelectorFromTarget(event.target);clickCounts[selector]=clickCounts[selector]?clickCounts[selector]+1:1;if(clickCounts[selector]===limit){subscribe(selector,(function(){clearInterval(countClear);document.removeEventListener("click",listener)}))}};document.addEventListener("click",listener)};

        detectDeadClicks(function (target, unsubscribe) {
          window._paq.push(['trackEvent', 'UX research', 'Dead click', target]);
        }, {
          interval: 1000, // Number of milliseconds to reset counter
          limit: 2, // Number of clicks to trigger function above
        });
    })();
    (function (){
        "use strict";var detectMouseShake=function(subscribe,_a){var interval=_a.interval,threshold=_a.threshold;var velocity;var direction;var directionChangeCount=0;var distance=0;var listener=function(event){var nextDirection=Math.sign(event.movementX);distance+=Math.abs(event.movementX)+Math.abs(event.movementY);if(nextDirection!==direction){direction=nextDirection;directionChangeCount++}};var intervalClear=setInterval((function(){var nextVelocity=distance/interval;if(!velocity){velocity=nextVelocity;return}var acceleration=(nextVelocity-velocity)/interval;if(directionChangeCount&&acceleration>threshold){subscribe((function(){clearInterval(intervalClear);document.removeEventListener("mousemove",listener)}))}distance=0;directionChangeCount=0;velocity=nextVelocity}),interval);document.addEventListener("mousemove",listener)};

        detectMouseShake(function (unsubscribe) {
          window._paq.push(['trackEvent', 'UX research', 'Mouse shake']);
        }, {
          interval: 350, // Number of milliseconds to reset counter
          threshold: 0.01, // Acceleration of mouse movement threshold
        });
    })();
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async data-src="https://www.googletagmanager.com/gtag/js?id=G-WY6CGBSV67"></script>
<script>
  document.addEventListener('StartAsyncLoading',function(event){
    setTimeout(function() {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WY6CGBSV67');
    }, 2000);
	  });
</script>
  <!-- Global site tag (gtag.js) - Google Ads: 10868096074 -->
<script async data-src="https://www.googletagmanager.com/gtag/js?id=AW-10868096074"></script>
<script>
  document.addEventListener('StartAsyncLoading',function(event){
    setTimeout(function() {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-10868096074', {'allow_enhanced_conversions':true});
      }, 2000);
	  });
</script>


  <meta name="facebook-domain-verification" content="h0oliulrdxj65ucdmz4z7hahq5ocgn" />



  <!-- Google Ads Remarketing Tag By FeedArmy Version 2.16 START -->
<!-- FeedArmy tutorial found at https://feedarmy.com/kb/adding-google-adwords-remarketing-tag-to-shopify/ -->

<!-- CODE SETTINGS START -->
<!-- CODE SETTINGS START -->

<!-- Please add your Google Ads Audience Source Tag ID -->
{% assign fa_google_ads_audience_tag_id = 10868096074 %}

<!-- Please add your alpha2 code, you can find it here: https://help.shopify.com/en/api/custom-storefronts/storefront-api/reference/enum/countrycode -->
{% assign fa_product_id_alpha2_code = 'US' %}

<!-- set your product id values are default, product_id, parent_id, sku-->
{% assign fa_product_id = 'sku' %}

<!-- CODE SETTINGS END -->
<!-- CODE SETTINGS END -->

<!-- ==================================== -->
<!-- DO NOT EDIT ANYTHING BELOW THIS LINE -->
{% if fa_google_coding %}{% assign fa_google_coding = true %}{%- else -%}{% assign fa_google_coding = false %}{%- endif -%}
{% if fa_google_coding == false %}
<script async data-src="https://www.googletagmanager.com/gtag/js?id=AW-{{ fa_google_ads_audience_tag_id }}"></script>
{%- endif -%}
{%- assign fa_current_variant = product.selected_or_first_available_variant -%}
{%- if cart.currency.iso_code == 'GBP' or cart.currency.iso_code == 'USD' or cart.currency.iso_code == 'CAD' or cart.currency.iso_code == 'AUD' or cart.currency.iso_code == 'BWP' or cart.currency.iso_code == 'BND' or cart.currency.iso_code == 'DOP' or cart.currency.iso_code == 'GTQ' or cart.currency.iso_code == 'HKD' or cart.currency.iso_code == 'INR' or cart.currency.iso_code == 'ILS' or cart.currency.iso_code == 'YEN' or cart.currency.iso_code == 'KES' or cart.currency.iso_code == 'KOR' or cart.currency.iso_code == 'LBP' or cart.currency.iso_code == 'MYR' or cart.currency.iso_code == 'MXN' or cart.currency.iso_code == 'NPR' or cart.currency.iso_code == 'NZD' or cart.currency.iso_code == 'NIO' or cart.currency.iso_code == 'NGN' or cart.currency.iso_code == 'PKR' or cart.currency.iso_code == 'CNY' or cart.currency.iso_code == 'PHP' or cart.currency.iso_code == 'SGD' or cart.currency.iso_code == 'LKR' or cart.currency.iso_code == 'CHF' or cart.currency.iso_code == 'TWD' or cart.currency.iso_code == 'TSH' or cart.currency.iso_code == 'THB' or cart.currency.iso_code == 'UGX' or cart.currency.iso_code == 'KWD' -%}
{% if template contains 'product' %}
{%- assign fa_product_price = fa_current_variant.price | money_without_currency | remove:',' -%}
{% elsif template contains 'cart' %}
{%- assign fa_product_price = cart.total_price | money_without_currency | remove:',' -%}
{% endif %}
{%- else -%}
{% if template contains 'product' %}
{%- assign fa_product_price = fa_current_variant.price | money_without_currency | remove:'.' | replace: ',', '.' -%}
{% elsif template contains 'cart' %}
{%- assign fa_product_price = cart.total_price | money_without_currency | remove:'.' | replace: ',', '.' -%}
{% endif %}
{%- endif -%}

{%- if fa_product_id == 'default' -%}
{%- capture fa_product_id_value -%}shopify_{{ fa_product_id_alpha2_code }}_{{ product.id }}_{{ fa_current_variant.id }}{%- endcapture -%}
{%- elsif fa_product_id == 'product_id' -%}
{%- capture fa_product_id_value -%}{{ fa_current_variant.id }}{%- endcapture -%}
{%- elsif fa_product_id == 'parent_id' -%}
{%- capture fa_product_id_value -%}{{product.id }}{%- endcapture -%}
{%- elsif fa_product_id == 'sku' -%}
{%- capture fa_product_id_value -%}{{ fa_current_variant.sku }}{%- endcapture -%}
{%- endif -%}


<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-{{ fa_google_ads_audience_tag_id }}');
</script>

{% if template contains 'collection' %}
{% assign fa_event = 'view_item_list' %}
{% elsif template contains 'product' %}
{% assign fa_event = 'view_item' %}
{% elsif template contains 'search' %}
{% assign fa_event = 'view_search_results' %}
{% elsif template contains 'cart' %}
{% assign fa_event = 'add_to_cart' %}
{% elsif template contains 'index' %}
{% assign fa_event = 'home' %}
{% else %}
{% assign fa_event = 'other' %}
{% endif %}

<script>
  gtag('event', '{{ fa_event }}', {
    'send_to': 'AW-{{ fa_google_ads_audience_tag_id }}',
  	  {% if template contains 'product' or template contains 'cart' %}'value': {{ fa_product_price }},{% endif %}
	{% if template contains 'product' %}
    'items': [{
			'id': '{{fa_product_id_value}}',
      'google_business_vertical': 'retail'
    }]
	{% elsif template contains 'cart' %}
	'items': [
	{% for item in cart.items %}
	{
		{% if fa_product_id == 'default' %}
			'id': 'shopify_{{ fa_product_id_alpha2_code }}_{{ item.product_id }}_{{ item.variant_id }}',
		{% elsif fa_product_id == 'product_id' %}
			'id': '{{ item.variant_id }}',
		{% elsif fa_product_id == 'parent_id' %}
			'id': '{{ item.product_id }}',
		{% elsif fa_product_id == 'sku' %}
			'id': '{{ item.sku }}',
		{% endif %}
      'google_business_vertical': 'retail'
    },
	{% endfor %}
	]
	{% endif %}
  });
</script>


<!-- Google Ads Remarketing Tag By FeedArmy Version 2.16 END -->

  <!-- Google Tag Manager -->
<script>
  document.addEventListener('StartAsyncLoading',function(event){
    setTimeout(function() {
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NS6WR27');
    }, 2000);
	  });
  </script>
<!-- End Google Tag Manager -->





  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="{{ settings.color_button }}">
  <link rel="canonical" href="{{ canonical_url }}">
  <link rel="preconnect" href="https://cdn.shopify.com">
  <link rel="preconnect" href="https://fonts.shopifycdn.com">
  <link rel="dns-prefetch" href="https://productreviews.shopifycdn.com">
  <link rel="dns-prefetch" href="https://ajax.googleapis.com">
  <link rel="dns-prefetch" href="https://maps.googleapis.com">
  <link rel="dns-prefetch" href="https://maps.gstatic.com">

  {%- if settings.favicon != blank -%}
    <link rel="shortcut icon" href="{{ settings.favicon | img_url: '32x32' }}" type="image/png" />
  {%- endif -%}

  {%- render 'seo-title' -%}

  {%- if page_description -%}
  <meta name="description" content="{{ page_description | escape }}">
  {%- endif -%}

  {%- render 'social-meta-tags' -%}

  {%- render 'font-face' -%}
  <!-- <link rel="stylesheet" href="{{ 'swiper-bundle.min.css' | asset_url }}"> -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
  />
  <link rel="stylesheet preload" as="style" href={{ 'theme.css' | asset_url }}>

  {%- render 'css-variables' -%}

  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');

    window.theme = window.theme || {};
    theme.routes = {
      home: "{{ routes.root_url }}",
      cart: "{{ routes.cart_url | append: '.js' }}",
      cartPage: "{{ routes.cart_url }}",
      cartAdd: "{{ routes.cart_add_url | append: '.js' }}",
      cartChange: "{{ routes.cart_change_url | append: '.js' }}"
    };
    theme.strings = {
      soldOut: {{ 'products.product.sold_out' | t | json }},
      unavailable: {{ 'products.product.unavailable' | t | json }},
      inStockLabel: {{ 'products.product.in_stock_label' | t | json }},
      stockLabel: {{ 'products.product.stock_label' | t: count: '[count]' | json }},
      willNotShipUntil: {{ 'products.product.will_not_ship_until' | t: date: '[date]' | json }},
      willBeInStockAfter: {{ 'products.product.will_be_in_stock_after' | t: date: '[date]' | json }},
      waitingForStock: {{ 'products.product.waiting_for_stock' | t | json }},
      cartSavings: {{ 'cart.general.savings_html' | t: savings: '[savings]' | json }},
      cartEmpty: {{ 'cart.general.empty' | t | json }},
      cartTermsConfirmation: {{ 'cart.general.terms_confirm' | t | json }},
      searchCollections: {{ 'general.search.collections' | t | json }},
      searchPages: {{ 'general.search.pages' | t | json }},
      searchArticles: {{ 'general.search.articles' | t | json }}
    };
    theme.settings = {
      dynamicVariantsEnable: true,
      cartType: {{ settings.cart_type | json }},
      isCustomerTemplate: {% if request.page_type contains 'customers/' %}true{% else %}false{% endif %},
      moneyFormat: {{ shop.money_format | json }},
      predictiveSearch: {{ settings.predictive_search_enabled }},
      predictiveSearchType: {{ settings.search_type | json }},
      quickView: {{ settings.quick_shop_enable }},
      themeName: 'Motion',
      themeVersion: "8.2.0"
    };
  </script>

  {%comment%}{{ content_for_header }}{%endcomment%}{%include "content_for_header"%}

  <script src="{{ 'vendor-scripts-v13.js' | asset_url | split: '?' | first }}" defer="defer"></script>

  {%- if shop.enabled_currencies.size > 1 -%}
    <link rel="preload" as="style" href="{{ 'currency-flags.css' | asset_url | split: '?' | first }}" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="{{ 'currency-flags.css' | asset_url | split: '?' | first }}">
  {%- endif -%}

  <script src="{{ 'theme.js' | asset_url }}" defer="defer"></script>

  {%- if request.page_type contains 'customers/' -%}
    <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer="defer"></script>
  {%- endif -%}

  {{ 'jquery-3.3.1.min.js' | asset_url | script_tag }}
  <!--  swiper  -->
  {%- comment -%}
  Switch from v7 to v8:
  {{ 'swiper-bundle.min.js' | asset_url | script_tag }}
  {%- endcomment -%}
  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>

  {%- comment -%}Alpine.js used in custom-featured-product{%- endcomment -%}
  <script defer src="https://unpkg.com/alpinejs@3.10.3/dist/cdn.min.js"></script>

<!-- {% include "omega_multi_pixel" %}   -->

  <script type="text/javascript">
    document.addEventListener('StartAsyncLoading',function(event){
    setTimeout(function() {
(function e(){var e=document.createElement("script");e.type="text/javascript",e.async=true,e.src="//staticw2.yotpo.com/uUQopCOjR2HvYMmDh8MO4VVdtLhh8xhYxnVmIjll/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
 }, 2000);
	  });
  </script>

  <!---YOTPO REVIEWS WIDGET CSS--->
   <style>
.yotpo .yotpo-review .yotpo-header .yotpo-review-stars .yotpo-icon, .yotpo .yotpo-comment .yotpo-header .yotpo-review-stars .yotpo-icon, .yotpo .yotpo-question .yotpo-header .yotpo-review-stars .yotpo-icon, .yotpo .yotpo-onsite-upload .yotpo-header .yotpo-review-stars .yotpo-icon {
    float: left;
    color: #FF9900;

}
</style>

  <!---END YOTPO REVIEWS WIDGET CSS--->

<!--  {% include "omega_multi_pixel" %}  -->


{% render 'sca-aff-refer-customer' %}
<!-- {% include "omega_multi_pixel" %} -->


  {% include "omega_multi_pixel" %} {% include 'sca.freegifts' %}
{% if content_for_header contains "hga.helloshopowner.com" %} 
 
 {% render 'hso-hello-google-analytics' %} 
 
 {% endif %} 
 <!-- Hotjar Tracking Code for https://www.velotricbike.com/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3101089,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
 {% include "omega_multi_pixel" %} </head>

<body class="{% if template.suffix != blank %}template-{{ template.suffix }}{% endif %} template-{{ template | replace: '.', ' ' | truncatewords: 1, '' | handle }}{% if request.path == '/challenge' %} template-challange{% endif %}" data-transitions="{{ settings.animate_page_transitions }}" data-type_header_capitalize="{{ settings.type_header_capitalize }}" data-type_base_accent_transform="{{ settings.type_base_accent_transform }}" data-type_header_accent_transform="{{ settings.type_header_accent_transform }}" data-animate_sections="{{ settings.animate_sections }}" data-animate_underlines="{{ settings.animate_underlines }}" data-animate_buttons="{{ settings.animate_buttons }}" data-animate_images="{{ settings.animate_images }}" data-animate_page_transition_style="{{ settings.animate_page_transition_style }}" data-type_header_text_alignment="{{ settings.type_headers_align_text }}" data-animate_images_style="{{ settings.animate_images_style | default: "zoom-fade" }}">

{% render 'vendor-yottaa' %}

{% if template contains 'product' %}
 <style>
  .product-single__meta .variant__label {
    font-size: 12px;
  }
  .sku-change-btn-wrapper {
    margin-bottom: 30px;
    margin-top: 41px;
  }
  @media (max-width: 768px) {
    .shopify-payment-button .shopify-payment-button__button--unbranded {
      font-size: 22px;
    }
    .product-single__meta .btn.add-to-cart {
      font-size: 22px;
    }
  }
  .product-single__metabox:not(.headactive) .variant-wrapper {
    /* Prevent mobile being blocked by quantity */
    padding-right: 80px;
  }
  /* Hide disable variant style (Color only) for product page since we are already hiding it using JS: */
  .variant-input-wrap[data-handle="color"] label.disabled:after {
    display: none;
  }
</style>

{% elsif template contains 'index' %}
<style>
  .header-wrapper--overlay {
    background: none;
  }
  .variant-wrapper {
    margin-bottom: -10px;
  }
  .featured-product-section .product-single__form {
    padding-top: 0px;
  }
  @media screen and (max-width: 589px) {
    .featured-product-section .product-single__meta .variant__label {
        max-width: 200px;
    }
  }
  /* START: Homepage testimonial-box style */
  .testimonial-box-container {
    margin: 20px 0;
  }
  @media (min-width: 768px) {
    .testimonial-box-container {
      margin: 0;
      margin-bottom: 55px;
    }
  }
  /* END: Homepage testimonial-box style */
</style>
{% endif %}

{%- comment -%}Set Sand as default color in Nomad template{%- endcomment -%}
{% if template contains 'nomad' %}
<script>
  document.addEventListener("sku-change:init", function() {
    const highStepBtn = document.querySelector("[data-handle='style'] [data-value='High-Step'] label")
    highStepBtn.click()
    setTimeout(() => {
      const sandBtn = document.querySelector("[data-handle='color'] [data-value='Sand'] label")
      sandBtn.click()
    }, 500);
  })
</script> 
{% endif %}
  
<script async type="text/javascript" src="https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=UPLuTH"></script>
  {% if settings.animate_page_transitions %}
    <script type="text/javascript">window.setTimeout(function() { document.body.className += " loaded"; }, 25);</script>
  {% endif %}

  <a class="in-page-link visually-hidden skip-link" href="#MainContent">{{ 'general.accessibility.skip_to_content' | t }}</a>

  <div id="PageContainer" class="page-container">
    <div class="transition-body">

    {%- section 'header' -%}

      <main class="main-content" id="MainContent" {% if template contains 'product' %} data-product-page {% endif %}>
        {% comment %}  {{ content_for_layout }}
	<noscript class="endOfLayoutContentX" type="text/mark"></noscript>{% endcomment %}{{ content_for_layout | replace: 'src="https://www.youtube.com/embed', 'data-src="https://www.youtube.com/embed'}}
      </main>

      {%- section 'footer-promotions' -%}
      {%- section 'footer' -%}

    </div>
  </div>

  {% section 'newsletter-popup' %}

  {%- liquid
    render 'video-modal'
    render 'photoswipe-template'
  -%}

  <!-- Start of changing original variant selection styles -->
  <div id="style-desc" style="display: none;">
    <div class="style-desc--st sku-change-desc">
      <span class="size-info-only">Step-Thru </span>Rider Heights<br>5’1” - 6’4”
    </div>
    <div class="style-desc--hs sku-change-desc" 
      {% unless template contains 'product' %}
      style="display: none;"
      {% endunless %}
    >
      <span class="size-info-only">High-Step </span>Rider Heights<br>5’5” - 6’9”
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      {% if template contains 'index' %}
      // Header color change:
      const setHeaderMenuToDark = (reset = false) => {
        document.querySelectorAll('.site-nav__item.site-nav__expanded-item a').forEach(link => {
          link.style.color = reset ? 'white' : 'black'
        })
        document.querySelectorAll('.site-nav.site-nav--icons svg').forEach(icon => {
          icon.style.stroke = reset ? 'white' : 'black'
        })
        const logos = document.querySelectorAll('.site-header__logo-link')
        // logos[0] is black, logos[1] is white
        logos.forEach(link => link.classList.remove('logo--inverted'))
        if(reset) {
          logos[0].classList.add('logo--has-inverted')
          logos[1].classList.remove('logo--has-inverted')
        } else {
          logos[1].classList.add('logo--has-inverted')
          logos[0].classList.remove('logo--has-inverted')
        }
      }
      const attrObserver = new MutationObserver((mutations) => {
        mutations.forEach(mu => {
          if (mu.type !== "attributes" && mu.attributeName !== "class") return;
          if(!mu.target.classList.contains('is-selected')) return
          if(mu.target.dataset.toDark === 'true')
            setHeaderMenuToDark()
          else
            setHeaderMenuToDark(true)
        });
      });
      document.querySelectorAll(".slideshow__slide").forEach(slide => {
        attrObserver.observe(slide, {attributes: true})
        if(slide.classList.contains('is-selected') && slide.dataset.toDark === 'true') {
          setHeaderMenuToDark() // init
        }
      })
      {% endif %}

      document.querySelectorAll(".product-single__meta").forEach(block => {
        block.querySelectorAll(".variant__label").forEach(el => {
          if(el.textContent.includes("Style")) {
            el.style.display = 'none'
          }
        })

        // Hide color if unavailable 
        const allColors = block.querySelectorAll(".color-swatch") 
        const updateColorInputDisplay = () => {
          setTimeout(() => {
            allColors.forEach(color => {
              if(color.classList.contains("disabled")) {
                color.parentElement.style.display = 'none'
              } else {
                color.parentElement.style.display = 'inline-block'
              }
            })
          }, 100)
        }
        updateColorInputDisplay() // init

        // Add size-info to custom-featred-product.liquid
        const stDesc = document.querySelector("#style-desc .style-desc--st")
        const hsDesc = document.querySelector("#style-desc .style-desc--hs")
        document.querySelectorAll("[data-enable-size-info='Step-Thru']").forEach(stBtn => {
          stBtn.parentElement.appendChild(stDesc.cloneNode(true))              
        })
        document.querySelectorAll("[data-enable-size-info='High-Step']").forEach(stBtn => {
          stBtn.parentElement.appendChild(hsDesc.cloneNode(true))              
        })

        block.querySelectorAll(".variant-wrapper").forEach(el => {
          if(el.textContent.includes("Style")) {
            el.classList.add("variant-wrapper--style")
          
            // Append #style-desc to [data-size-info]
            const sizeInfo = block.querySelector("[data-size-info]")
            if(sizeInfo) {
              sizeInfo.appendChild(stDesc.cloneNode(true))
              sizeInfo.appendChild(hsDesc.cloneNode(true))
            }

            const styleOptionButtons = el.querySelectorAll(".variant-input")
            let allActualOptionBtn = []
            styleOptionButtons.forEach(option => {
              {% if template contains 'product' %}
              if(option.textContent.includes("Step-Thru")) {
                stDesc && option.appendChild(stDesc.cloneNode(true))              
              } else if(option.textContent.includes("High-Step")) {
                hsDesc && option.appendChild(hsDesc.cloneNode(true))              
              }
              {% endif %}

              const actualBtn = option.querySelector("label")
              allActualOptionBtn.push(actualBtn)
              if(option.classList.contains("selected")) {
                option.classList.remove("selected") // The original "selected" class is not reacting to selection
                actualBtn.classList.add("sku-change-btn--active")
              }

              // Handle option select: Toggle active class in list 
              actualBtn.addEventListener("click", function() {
                allActualOptionBtn.forEach(btn => {
                  if(btn === actualBtn) {
                    btn.parentElement.querySelectorAll("label").forEach(b => {
                      b.classList.add("sku-change-btn--active")
                    })
                  } else {
                    btn.parentElement.querySelectorAll("label").forEach(b => {
                      b.classList.remove("sku-change-btn--active")
                    })
                  }
                })

              updateColorInputDisplay()

              {% unless template contains 'product' %}
                // If high-step, display high-step size info
                if(actualBtn.textContent.includes("High-Step")) {
                  block.querySelector(".style-desc--hs").style.display = 'block'
                  block.querySelector(".style-desc--st").style.display = 'none'
                } else if(actualBtn.textContent.includes("Step-Thru")) {
                  block.querySelector(".style-desc--hs").style.display = 'none'
                  block.querySelector(".style-desc--st").style.display = 'block'
                }
              {% endunless %}

                // Hide black color if High-step:
                // const blackBtn = block.querySelector(".variant-input[data-value='Jet Black']")
                // if(actualBtn.textContent.includes("High-Step")) {
                //   blackBtn.style.display = "none"
                //   block.querySelector(".variant-input[data-value='Mango']").click()
                // } else if(actualBtn.textContent.includes("Step-Thru")) {
                //   blackBtn.style.display = "inline-block"
                // }
              })
              actualBtn.classList.add("sku-change-btn")

              // START: Fix product form variant selection disable style button behavior 
              {% if template contains 'product' %}
              actualBtn.addEventListener("click", function() {
                if(actualBtn.classList.contains('disabled')) {
                  // find all color btn
                  const allLocalColorButtons = [...block.querySelectorAll(".color-swatch")]
                  console.log(allLocalColorButtons)
                  // find shop now button or atc button.
                  const atcButton = document.querySelector(".shopify-payment-button__button[disabled]") 
                                  || document.querySelector("[data-add-to-cart]")
                  function selectColorBtn(btn, restOfBtn) {
                    btn.click()
                    // every 10ms, select a color and check if shop now is disable or not
                    setTimeout(function() {
                      // if disabled, then select next
                      if(restOfBtn.length > 1 && (atcButton.classList.contains("disabled") || atcButton.disabled === true)) {
                        selectColorBtn(restOfBtn[0], restOfBtn.splice(1))
                      }
                    }, 20);
                  }
                  selectColorBtn(allLocalColorButtons[0], allLocalColorButtons.splice(1))
                }
              })
              {% endif %}
              // END: Fix product form variant selection disable style button behavior 
            })
          }
        })
      })

      document.dispatchEvent(new Event('sku-change:init'))
    })
  </script>
  <!-- End of changing original variant selection styles -->

  <!-- Start of LiveChat (www.livechatinc.com) code -->
<script>
   document.addEventListener('StartAsyncLoading',function(event){
    setTimeout(function() {
    window.__lc = window.__lc || {};
    window.__lc.license = 13533162;
    ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))
  }, 2000);
	  });
  </script>
<noscript><a href="https://www.livechatinc.com/chat-with/13533162/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechatinc.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>
<!-- End of LiveChat code -->


  <script src="{{ 'custom.min.js' | asset_url }}" defer></script>



<!-- Added to Cart Snippet -->
  {% if product %}
  <script type="text/javascript">
var _learnq = _learnq || [];
function addedToCart() {
  fetch(`${window.location.origin}/cart.js`)
  .then(res => res.clone().json().then(data => {
    var cart = {
      total_price: data.total_price/100,
      $value: data.total_price/100,
      total_discount: data.total_discount,
      original_total_price: data.original_total_price/100,
      items: data.items
    }
    if (item !== 'undefined') {
      cart = Object.assign(cart, item)
    }
    _learnq.push(['track', 'Added to Cart', cart])
  }))
}
(function (ns, fetch) {
  ns.fetch = function() {
    const response = fetch.apply(this, arguments);
    response.then(res => {
      if (`${window.location.origin}/cart/add.js`
      	.includes(res.url)) {
        	addedToCart()
      }
    });
    return response
  }
}(window, window.fetch))
$(document).ajaxComplete(function(event, request, settings){
  if(settings.url == "/cart/add.js"){
      addedToCart()
  }
})</script>
  {% endif %}

 <script async type="text/javascript" src="https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=UPLuTH"></script>
{% if template contains 'product' %}
<script type="text/javascript">
  var _learnq = _learnq || [];

  var item = {
    Name: {{ product.title|json }},
    ProductID: {{ product.id|json }},
    Categories: {{ product.collections|map:'title'|json }},
    ImageURL: "https:{{ product.featured_image.src|img_url:'grande' }}",
    URL: "{{ shop.secure_url }}{{ product.url }}",
    Brand: {{ product.vendor|json }},
    Price: {{ product.price|money|json }},
    CompareAtPrice: {{ product.compare_at_price_max|money|json }}
  };
  _learnq.push(['track', 'Viewed Product', item]);
  _learnq.push(['trackViewedItem', {
    Title: item.Name,
    ItemId: item.ProductID,
    Categories: item.Categories,
    ImageUrl: item.ImageURL,
    Url: item.URL,
    Metadata: {
      Brand: item.Brand,
      Price: item.Price,
      CompareAtPrice: item.CompareAtPrice
    }
  }]);
</script>
<script type="text/javascript">
  var _learnq = _learnq || [];
  document.querySelector('.btn').addEventListener('click',function (){
    _learnq.push(['track', 'Added to Cart', item]);
  });
</script>
{% endif %}

  {% include 'appikon-pre-order-helper' %}
  
  
<script type="text/javascript">
var _learnq = _learnq || [];
	document.getElementById("btn btn--full add-to-cart add-to-cart--secondary btn--full add-to-cart  add-to-cart--secondary").addEventListener('click',function (){
 		_learnq.push(['track', 'Added to Cart', item]);
	});</script>

{% if content_for_header contains "hga.helloshopowner.com" %}{% render 'hso-hello-google-analytics-event' %}{% endif %} 
 </body>
</html>
