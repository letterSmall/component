<div class="bg-text-link">
  {% for block in section.blocks %}
  {% if block.settings.image %}
  <img class="hide-mb" src="{{ block.settings.image |img_url: 'master' }}" alt=""/>
  {% endif %}
  
  {% if block.settings.image_mb %}
  <img class="hide-pc" src="{{ block.settings.image_mb |img_url: 'master' }}" alt=""/>
  {% else %}
   <img class="hide-pc" src="{{ block.settings.image |img_url: 'master' }}" alt=""/>
  {% endif %}

  <div class="bg-text-wrapper text-{{block.settings.text_align}}" >
    {% if block.settings.title != blank %}
    <h2 class="title50" style="color:{{block.settings.text_color}};">{{ block.settings.title }}</h2>
    {% endif %}

    {% if block.settings.text != blank %}
    <p class="text" style="color:{{block.settings.text_color}};">{{ block.settings.text }}</p>
    {% endif %}

    {% if block.settings.btn != blank and block.settings.link != blank %}
    <a class="btn" href="{{ block.settings.link }}"> {{ block.settings.btn }}</a>
    {% endif %}
  </div>
  <style>
    .bg-text-wrapper{
      position: absolute;
      left: {{ block.settings.content_x_position | append: '%' }};
      top:{{ block.settings.content_y_position | append: '%' }};
      transform: translate(-{{ block.settings.content_x_position | append: '%' }},-{{ block.settings.content_y_position | append: '%' }});
      max-width:60vw;
      width: 100%;
      padding: 10px;
    }
    @media(max-width: 768px){
        .bg-text-wrapper{
           top:{{ block.settings.content_y_position_mb | append: '%' }};
           transform: translate(-{{ block.settings.content_x_position | append: '%' }},-{{ block.settings.content_y_position_mb | append: '%' }});
        }
    }
  </style>
  {% endfor %}
</div>

<style>
  .no-margin-section{
    margin-top:{{section.settings.margin_top | append:'px'}} !important; 
  }
  .bg-text-link{ position: relative; }
  .bg-text-link img{width:100%; vertical-align: top; }
  .bg-text-link .btn{margin-top: 1.2vw;background-color: #eb3300;}
  @media(max-width: 768px){
    .no-margin-section{
      margin-top:30px !important; 
    }
    .bg-text-wrapper{max-width:100%;}
  }
</style>

{% schema %}
  {
    "name": "Vac srobot Bg Text",
    "class": "no-margin-section",
    "settings": [
      {
        "type":"range",
        "id":"margin_top",
        "min":0,
        "max":60,
        "step":5,
        "unit":"px",
        "label":"margin top space",
        "default":0
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Background Image PC",
            "info": "Size: 1920px*680px"
          },{
            "type": "image_picker",
            "id": "image_mb",
            "label": "Background Image Mobile",
            "info": "Size: 750px*1200px"
          },{
            "type": "text",
            "id": "title",
            "label": "Title"
          },{
            "type": "text",
            "id": "text",
            "label": "Text"
          },{
            "type": "text",
            "id": "btn",
            "label": "Button Text",
            "default": "Learn More"
          },{
            "type": "url",
            "id": "link",
            "label": "Button Link"
          },{
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
            "default": "#ffffff"
          },{
            "type": "radio",
            "id": "text_align",
            "label": "Text Alignment",
            "options": [
              { "value": "left", "label": "Left" },
              { "value": "center", "label": "Center" },
              { "value": "right", "label": "Right" }
            ],
            "default": "center"
          },{
            "type": "range",
            "id": "content_x_position",
            "min": 0,
            "max": 80,
            "step": 1,
            "unit": "%",
            "label": "Content horizontal position",
            "default": 50
          },{
            "type": "range",
            "id": "content_y_position",
            "min": 0,
            "max": 80,
            "step": 1,
            "unit": "%",
            "label": "Content vertical position on PC",
            "default": 50
          },{
            "type": "range",
            "id": "content_y_position_mb",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "%",
            "label": "Content vertical position on Mobile",
            "default": 88
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Vac srobot Bg Text",
        "category": "text"
 
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
