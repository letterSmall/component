{% paginate customer.orders by 20 %}
<div class="account-item-content   account-customers-item-content ">
<div class="page-width page-content customers">
  <header class="section-header">
    <h1 class="section-header__title">{{ 'customer.account.title' | t }}</h1>
    
    <span class="log_out_text">  {{ 'layout.customer.log_out'| t | customer_logout_link }}</span>
  </header>

  <div class="grid">

    <div class="grid__item medium-up--one-half">
     
      <div class="account-user-item">
    <h2 class="h3">
      
      <span>  {{ 'customer.orders.title' | t }}</span>
         <span id="go-order-list" style="line-height:0">{%render "white-arrow"%}</span>
        </h2>

     <div class="aui-content">
       {% if customer.orders.size != 0 %}
       <div class="has-order-box">
         <div class="title">
          
           {%assign fulfillment_num=0%}
          {%assign unfulfillment_num=0%}
{% for order in customer.orders %}
     
            {%if order.fulfillment_status contains "unfulfilled"%}
            {%assign unfulfillment_num=unfulfillment_num|plus:1%}
            {%endif%}
            {%if order.fulfillment_status contains "fulfilled"%}
            {%assign fulfillment_num=fulfillment_num|plus:1%}
            {%endif%}
           {%endfor%}          
              {{unfulfillment_num}} Order{%if unfulfillment_num > 1%}s{%endif%} in Process
         </div>
         <div class="has-order-box-content">
          
         

           <div class="swiper-container order-swiper-container">
  <div class="swiper-wrapper">
    
      {% for order in customer.orders %}
    <div class="swiper-slide">
      
           <div class="hobc-item">
             <a href="{{  order.customer_url }}">
               <div class="hobc-item-inner">
              {%for item in order.line_items limit:1%}
             <div class="hobci-left">
             
               {{ item.image | image_url: width: 120, height: 120 | image_tag: srcset: nil }}
             
             </div>
               <div class="hobci-right">
                 <div class="hobcir-title">
                     {%if order.fulfillment_status contains "unfulfilled"%}
                   Your package is on the way
                   {%else%}
                    Your package is Delivered
                   {%endif%}
                 </div>
                 
                {%assign item_quantity=item.quantity|times:1%}
                 <div class="quantity-cell">
                   {{item_quantity}} item{%if item_quantity > 1 %}s{%endif%}
                 </div>
                 
                 
             </div>
                 {%endfor%}
               </div>
             </a>
           </div>
            </div>
           {%endfor%}
        
     </div>
            
       </div>
             <div class="swiper-pagination order-swiper-pagination"></div>
             </div>  </div>
       
       
<!--         <table class="full table--responsive">
          <thead>
            <tr>
              <th>{{ 'customer.orders.order_number' | t }}</th>
              <th>{{ 'customer.orders.date' | t }}</th>
              <th>{{ 'customer.orders.payment_status' | t }}</th>
              <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
              <th>{{ 'customer.orders.total' | t }}</th>
            </tr>
          </thead>
          <tbody>
            {% for order in customer.orders %}
              <tr class="table__section">
                <td data-label="{{ 'customer.orders.order_number' | t }}">{{ order.name | link_to: order.customer_url }}</td>
                <td data-label="{{ 'customer.orders.date' | t }}">{{ order.created_at | time_tag: format: 'date' }}</td>
                <td data-label="{{ 'customer.orders.payment_status' | t }}">{{ order.financial_status_label }}</td>
                <td data-label="{{ 'customer.orders.fulfillment_status' | t }}">{{ order.fulfillment_status_label }}</td>
                <td data-label="{{ 'customer.orders.total' | t }}">{{ order.total_price | money }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <hr class="hr--clear"> -->
{%else%}
     
        <p class="none-order">{{ 'customer.orders.none' | t }}</p>

       <a class="go-shipping-btn" href="{{routes.root_url}}">{{ 'customer.orders.shipping' | t }}</a>
 {%endif%}
        </div>
      
      </div>   
      
    </div>

    <div class="grid__item medium-up--one-half">
       <div class="account-user-item">
      <h3 class="h3">
        <span>{{ 'customer.account.settings' | t }}</span>
         <span style="line-height:0"><a href="{{ routes.account_addresses_url }}" class="text-link">{%render "white-arrow"%}</a></span>
         </h3>
 <div class="aui-content aui-right-content">
      <div class="customer_name">{{ customer.name }}</div>

   <div class="customer_email">{{customer.email}}</div>
   
      <div class="customer_default_address">  {{ customer.default_address | format_address }}</div>


    </div>
         </div>
 </div>
  </div>

  {% if paginate.pages > 1 %}
    {% render 'pagination', paginate: paginate %}
  {% endif %}
</div>
</div>
{% endpaginate %}




<div class="account-order-table hide">
  
   
  
  <div class="account-item-content">
<div class="page-width page-content customers">
  
  
  {% if settings.show_breadcrumbs %}
    <nav class="breadcrumb" role="navigation" aria-label="breadcrumbs">
      <a href="#" id="return_accout">
          <span style="line-height: 0;">
          <?xml version="1.0" encoding="UTF-8"?>
<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g  transform="translate(-396.000000, -2108.000000)" fill-rule="nonzero">
            <g  transform="translate(404.000000, 2116.000000) rotate(-90.000000) translate(-404.000000, -2116.000000) translate(396.000000, 2108.000000)">
                <rect id="Rectangle" fill="#000000" opacity="0" x="0" y="0" width="16" height="16"></rect>
                <path d="M7.76245116,1.25001408 L4.24990373,4.76256142 C3.91669876,5.0957664 3.91669876,5.63607035 4.24990373,5.96927533 L4.33727984,6.04563481 C4.67172118,6.30016639 5.15117975,6.27471323 5.45661765,5.96927533 L7.5116667,3.91472225 L7.51234883,14.1477681 C7.51288215,14.6182639 7.89408433,14.9994662 8.36435976,15 L8.47139294,14.9934755 C8.89214765,14.9413198 9.21796624,14.5828599 9.21845846,14.1479882 L9.21791671,3.91180558 L11.2750071,5.96926941 C11.6084037,6.30213271 12.1480053,6.30196789 12.4811095,5.9688637 C12.8143032,5.63567 12.8141383,5.09552942 12.4808487,4.76250641 L8.96757356,1.24923132 C8.63470321,0.916627688 8.09497428,0.916957646 7.76245116,1.25001408 Z" id="Path" fill="#999999"></path>
            </g>
        </g>
    </g>
</svg>
          </span>
        
        {{ 'customer.account.title' | t }}</a>
     
    </nav>
  {% endif %}
  
  
  <header class="section-header">
    <h1 class="section-header__title"> {{ 'customer.orders.title' | t }}</h1>
    
   
  </header>

 
     {% for order in customer.orders %}
      <div class="account-user-item">
    <h2 class="h3">
       

      <span>{{order.fulfillment_status}}</span>
      <span style="line-height:0"><a href="{{order.customer_url}}">{%render "white-arrow"%}</a></span>
        </h2>

 
           <div class="hobc-item">
         <div class="hobc-iten-outer">
           <div class="hobc-iten-outer-left">
               <div class="hobc-item-inner">
                    {%if order.financial_status contains "refunded" or order.financial_status=="partially_refunded" or order.cancelled%}
                   <div class="hobcir-status">                 
                     {{order.financial_status|strip|uppercase}}
                   </div>
                 {%endif%}
              {%for item in order.line_items %}
                 {{ item.fulfillment.created_at | date: "%b %d" }}
                 <div class="hobci-cell">
             <div class="hobci-left">
             
               {{ item.image | image_url: width: 120, height: 120 | image_tag: srcset: nil }}
             
             </div>
               <div class="hobci-right">
               <div class="hobcir-content">
               <div class="hobcir-left">
                     <div class="hobcir-title">
           {{item.product.title}}
                 </div>
                 
               {%- unless item.product.has_only_default_variant -%}
                        <p class="hobcir__product-meta">
                          {{ item.variant.title }}
                        </p>
                      {% endunless %}

                 <div class="hobcir-properties">
                      {% assign property_size = item.properties | size %}
                      {% if property_size > 0 %}
                        {% for p in item.properties %}
                          {% assign first_character_in_key = p.first | truncate: 1, '' %}
                          {% unless p.last == blank or first_character_in_key == '_' %}
                            {{ p.first }}:

                            {% if p.last contains '/uploads/' %}
                              <a href="{{ p.last }}">{{ p.last | split: '/' | last }}</a>
                            {% else %}
                              {{ p.last }}
                            {% endif %}

                            <br>
                          {% endunless %}
                        {% endfor %}
                      {% endif %}   
                 </div> 
              <div class="hobcir-qty">
               Qty {{item.quantity}}
                 </div>
                 </div>
                 
                 
                 <div class="hobcir-right">
                  {% if item.original_line_price != item.final_line_price %}
                        <span class="visually-hidden">{{ 'products.general.regular_price' | t }}</span>
                        <small class="cart__price cart__price--strikethrough"><span class='ufe-cart-item-total-price' data-key='{{item.key}}' data-props='{{item.properties | json}}'>{{ item.original_line_price | money }}</span></small>
                        <span class="visually-hidden">{{ 'products.general.sale_price' | t }}</span>
                        <span class="cart__price cart__discount">{{ item.final_line_price | money }}</span>
                      {% else %}
                        <span class="cart__price"><span class='ufe-cart-item-total-price' data-key='{{item.key}}' data-props='{{item.properties | json}}'>{{ item.original_line_price | money }}</span></span>
                      {% endif %}

                      {%- if item.line_level_discount_allocations != blank -%}
                        {%- for discount_allocation in item.line_level_discount_allocations -%}
                          <small class="cart__discount">{{ discount_allocation.discount_application.title }} (-{{ discount_allocation.amount | money }})</small>
                        {%- endfor -%}
                      {%- endif -%}

                      {%- if item.unit_price_measurement -%}
                        {%- capture unit_price_base_unit -%}
                          <span class="unit-price-base--{{ section_id }}">
                            {%- if item.unit_price_measurement -%}
                              {%- if item.unit_price_measurement.reference_value != 1 -%}
                                {{ item.unit_price_measurement.reference_value }}
                              {%- endif -%}
                              {{ item.unit_price_measurement.reference_unit }}
                            {%- endif -%}
                          </span>
                        {%- endcapture -%}

                        <div class="product__unit-price">{{ item.unit_price | money }}/{{ unit_price_base_unit }}</div>
                      {%- endif -%}
                 
                
                   
                 </div>
                 </div>
                 
                 </div>
                 
             </div>
                 {%endfor%}
                  
                    
                 
               </div>
             </div>
            <div class="hobc-iten-outer-right">
              <li><span>Order#</span><span>{{ order.name |remove:"#"}}</span></li>
               <li><span>Date</span><span>{{ order.created_at| time_tag: format: "date_at_time"}}</span></li>
                  <li><span>{{ 'customer.order.total' | t }}</span>
                    
                    <span>{{ order.total_price | money }} {{ order.currency }}</span>
              
              </li>
              {%if order.total_refunded_amount > 0%}
              <li class="refund-total"><span>Refund Total</span><span>{{order.total_refunded_amount| money}} {{ order.currency }}</span></li>
              {%endif%}
           </div>
            </div>
           </div>
             </div>  
           {%endfor%}
        
    
           
          

      
    </div>

  
  </div>

 
</div>







<script>
  var orderSwiper= new Swiper('.order-swiper-container', {
    {%if customer.orders.size == 1%}
    allowTouchMove: false,
    {%endif%}
     observer:true,
    observeParents:true,
    pagination: {
    el: '.order-swiper-pagination',
      clickable :true,
  },
     on: {
    init: function(swiper){
      $('.order-swiper-container .swiper-slide').css("opacity",1);
    
    }, 
  },
})
  
  
  
  $(document).ready(function(){
   let status=URL_Request('status'); 
    if(status!=""){
       $('.account-customers-item-content ').hide();
    $('.account-order-table').removeClass('hide');
    }
  })
  
  $('#go-order-list').click(function(){
   $('.account-customers-item-content ').hide();
    $('.account-order-table').removeClass('hide');
    changeURLStatic('status','order');
  
  })
  $('#return_accout').click(function(){
    $('.account-customers-item-content ').show();
    $('.account-order-table').addClass('hide');
  })
  
  
function changeURLStatic(name, value) {
    var url = location.href;
    var reg = eval('/([\?|&]'+name+'=)[^&]*/gi');
    value = value.toString().replace(/(^\s*)|(\s*$)/g,""); 
    if(!value){
        var url2 = url.replace(reg , '');  
    }else{
        if(url.match(reg)){
            var url2 = url.replace(reg , '$1' + value);  
        }else{
            var url2 = url + (url.indexOf('?') > -1 ? '&' : '?') + name + '=' +value; 
        }
    }
    history.replaceState(null,null, url2); 
}
  

//正则获取url中的参数
    function URL_Request(strName) {
    var strHref = document.location.toString();
    var intPos = strHref.indexOf("?");
    var strRight = strHref.substr(intPos + 1); 
    var arrTmp = strRight.split("&"); 

    for (var i = 0; i < arrTmp.length; i++)
    {
        var dIntPos = arrTmp[i].indexOf("=");
        var paraName = arrTmp[i].substr(0, dIntPos);
        var paraData = arrTmp[i].substr(dIntPos + 1);
        if (paraName.toUpperCase() == strName.toUpperCase()) {
            return paraData;
        }
    }
    return "";
    }
  </script>